(()=>{let t=new URLSearchParams(document.location.search).get("id");fetch(`http://localhost:3000/api/teddies/${t}`).then((t=>t.json())).then((t=>{void 0!==t.name&&(document.title=`Commandez ${t.name} - Ours en peluche faits à la main - Oripeluche par Orinoco`,document.querySelector("h1").textContent=`Commandez ${t.name}, parmi nos peluches faites-main`);const e=document.getElementById("product"),n=document.createElement("article");n.classList.add("d-md-flex","flex-row","m-2","p-1","p-sm-3","border","border-5","rounded-3","bg-light","bg-gradient"),e.appendChild(n);const a=document.createElement("div");a.classList.add("col-md-8"),n.appendChild(a);const d=document.createElement("figure");a.appendChild(d);const o=document.createElement("img");o.setAttribute("src",t.imageUrl),o.setAttribute("alt",`Peluche ${t.name}`),o.classList.add("lead","img-fluid","p-3","mb-3","border","border-2","rounded","bg-body"),d.appendChild(o);const c=document.createElement("figcaption");c.textContent=t.description,c.classList.add("lead","p-2","fw-normal"),d.appendChild(c);const s=document.createElement("div");s.classList.add("col-md-4","p-3","text-center"),n.appendChild(s);const r=document.createElement("label");r.setAttribute("for","select-variation"),r.textContent="Couleur :",r.classList.add("p-2","fw-bold"),s.appendChild(r);const l=document.createElement("select");l.setAttribute("id","select-variation"),l.setAttribute("name","select-variation"),l.classList.add("form-select","form-select-lg","mb-4"),s.appendChild(l);const i=t.colors;for(const t of i){const e=document.createElement("option");e.setAttribute("value",t),e.textContent=t,l.appendChild(e)}const m=document.createElement("label");m.setAttribute("for","select-quantity"),m.textContent="Quantité :",m.classList.add("p-2","fw-bold"),s.appendChild(m);const u=document.createElement("select");u.setAttribute("id","select-quantity"),u.setAttribute("name","select-quantity"),u.classList.add("form-select","form-select-lg","mb-4"),s.appendChild(u);const p=[1];for(const t of p){const e=document.createElement("option");e.setAttribute("value",t),e.textContent=t,u.appendChild(e)}const b=document.createElement("p");b.textContent=t.price/100+",00€",b.classList.add("fs-1"),s.appendChild(b);const h=document.createElement("button");h.setAttribute("id","btn__cart"),h.setAttribute("name","add-to-cart"),h.setAttribute("type","submit"),h.textContent="Ajouter au panier",h.classList.add("btn","btn-primary","btn-lg","m-3","fw-bold","text-center"),s.appendChild(h),h.addEventListener("click",(e=>{e.preventDefault();const n=document.querySelector("#select-variation").value,a=document.querySelector("#select-quantity"),d=Number(a.value),o={sentProductName:t.name,sentProductUrl:t.imageUrl,sentProductPrice:t.price/100,sentProductId:t._id,sentProductVariation:n,sentProductQuantity:d};let c=JSON.parse(localStorage.getItem("products"));const s=()=>{c.push(o),localStorage.setItem("products",JSON.stringify(c))},r=()=>{window.alert("Votre sélection a été ajoutée au panier")};c?(s(),r()):(c=[],s(),r())}))})).catch((t=>document.getElementById("product").innerHTML='<p class="mx-auto m-1 p-5 fs-5 border border-5 rounded-3 bg-light bg-gradient">Désolé, cet article n\'est pas disponible.</p>'))})();